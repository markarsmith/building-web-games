<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>

<canvas id="canvas">
    ... non-canvas fallback
</canvas>

<script>

    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');

    canvas.width = 500;
    canvas.height = 500;

    var w = canvas.width, h = canvas.height;

    var frame = 0;

//    var img = new Image();
//
//    img.onload = function() {
//        ctx.drawImage(img, 0, 0, 900, 600, 100, 100, 500, 400);
//        ctx.save();
//    }
    //img.src = 'resources/images/gracieFly.jpg';

    setInterval(function() {
        var img = ctx.getImageData(0,0,w,h);
        for(var i=0; i < img.width*img.height*4; i+=4){
            //4 * (Math.round(y)*width + Math.round(x));
            //4 * ((y|0)*width + (x|0));//same as above
            var rnd = Math.random()*255;
            img.data[i] = rnd;
            img.data[i+1] = rnd;
            img.data[i+2] = rnd;
            img.data[i+3] = 255;
        }
        ctx.putImageData(img, 0, 0);
        //cx.restore();
    }, 1000/30);//30 frames per second

</script>

</body>
</html>